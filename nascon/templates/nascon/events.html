{% extends "base.html" %}
{% load static %}

{% block title %}NaSCon 2026 - Pakistan's Largest Inter-University Event{% endblock %}

{% block content %}
<!-- Events Section -->
<section id="events" class="events-section">
    <div class="container">
        <h2>Our Events</h2>
        <p class="section-description">Discover the exciting lineup of competitions and activities at NaSCon 2026</p>
        
        <div class="event-filters">
            <form action="{% url 'events' %}" method="GET">
                <button type="submit" class="filter-button">All</button>
                <button type="submit" class="filter-button" name="filter" value="technical">Technical</button>   
                <button type="submit" class="filter-button" name="filter" value="business">Business</button>   
                <button type="submit" class="filter-button" name="filter" value="gaming">Gaming</button>   
                <button type="submit" class="filter-button" name="filter" value="general">General</button>   
            </form>
        </div>
        
        <div class="events-container">
            {% if events %}
                {% for event in events %}
                    <div class="event-card" data-category="{{ event.category|default:'general'|lower }}">
                        <div class="event-image">
                            <!-- Placeholder image - in production, this could be dynamically loaded -->
                            <img src="{% static 'nascon/images/event-placeholder.jpg' %}" alt="{{ event.event_name }}">
                        </div>
                        <div class="event-details">
                            <h3>{{ event.event_name }}</h3>
                            <div class="event-meta">
                                <span class="event-date">{{ event.date_time|date:"F j, Y" }}</span>
                                <span class="event-category">{{ event.category|default:"General" }}</span>
                            </div>
                            <p class="event-description">{{ event.description|truncatewords:20 }}</p>
                            <div class="event-footer">
                                <div class="registration-fee">Registration: Rs.{{ event.registration_fees }}</div>
                                <a href="#" class="event-details-link">Learn More</a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <p class="no-events-message">No events available at the moment. Check back soon!</p>
            {% endif %}
        </div>    
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script src="{% static 'nascon/js/home.js' %}"></script>
{% endblock %}
